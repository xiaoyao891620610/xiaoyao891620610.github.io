<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="Security">
<meta name="description" content="温故而知新">
<meta name="theme-color" content="#000">
<title>萧瑟</title>
<link rel="shortcut icon" href="/favicon.ico?v=1632713975244">
<link rel="stylesheet" href="/media/css/gemini.css">
<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/default.css"
  rel="stylesheet">

<link rel="stylesheet" href="/styles/main.css">

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>





</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="gemini">
  <header class="header  ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>萧瑟</span>
            </a>  
          
        </div>
        
          <p class="subtitle">Network Security</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
              
            
            <li class="nav-item nav-item-active">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> 首页
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> 归档
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> 标签
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/post/about/" target="_self">
                  <i class="fa fa-user"></i> 关于
                </a>
              
            </li>
          
          
            
              <li class="nav-item ">
                <a href="/friends/" target="_self">
                  
                    <i class="fa fa-address-book"></i> 友情链接
                  
                </a>
              </li>
            
          
          
            <li id="fa_search" class="nav-item">
              <a href="javascript:void(0);">
                <i class="fa fa-search"></i> <span class="language" data-lan="search">搜索</span>
              </a>
            </li>
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout gemini ">
      <div class="section-layout-wrapper">
        <div id="sidebarMeta" class="sidebar">
    
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">萧瑟</p>
    
    <div class="site-description right-motion">
      
      
      
        <p>这个人很懒，什么都不想写。。。。</p>
      
      
    </div>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">4</span>
        <span class="site-item-stat-name language" data-lan="article">文章</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">3</span>
        <span class="site-item-stat-name language" data-lan="category">分类</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">3</span>
        <span class="site-item-stat-name language" data-lan="tag">标签</span>
      </a>
    </div>
  </div>
  
    
  
  



</div>
</div>
<script>
  let sidebarMeta = document.querySelector('#sidebarMeta');
  let scheme = 'gemini';
  let sidebarWrapper = document.querySelector('.sidebar-wrapper');
  if (sidebarMeta && (scheme === 'pisces' || scheme === 'gemini')) {
    document.addEventListener('scroll', function(e) {
      if (document.scrollingElement.scrollTop > parseInt(sidebarMeta.style.marginTop) + 10) {
        sidebarWrapper.classList.add('home-sidebar-fixed')
      } else {
        sidebarWrapper.classList.remove('home-sidebar-fixed')
      }
    });
  }
  </script>
        <div class="section-box gemini">
          <section class="section  posts-expand slide-down-in">
            
  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://xiaoyao891620610.github.io/post/hdfs/">
      HDFS
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">发布于</span>
      <span class="publish-time" data-t="2021-09-23 10:07:47">2021-09-23</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">分类于</span>
      
      
      <a href="https://xiaoyao891620610.github.io/tag/bXFkCkRzV/">
        <span>JAVA</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>6<span class="language" data-lan="minute">分钟</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>1404<span class="pc-show language" data-lan="words">字数</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
            <!-- 没有手动摘要切开启了自动摘要,则根据配置筛除摘要内容 -->
            
            
              
              
              
            
              
              
              
            
              
              
              
            
            
              <p><h3 id="1hdfs的概念">1.HDFS的概念</h3>
<p>​	HDFS (Hadoop Distributed File System),是一个分布式文件系统，运用了分而治之的设计思想，部署在低廉的硬件上，将大文件，大批量文件，分布式存放在大量服务器上，并对海量数据进行运算分析。</p>
<pre><code>大数据系统中的作用：为各类分布式的运算框架 (mapreduce,spark,tez,.......)提供数据存储服务

                
                  <!-- 自动摘要出来的内容有<code则补上结尾,防止格式错误 -->
                  </code></pre>
                
              <p>
            
          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://xiaoyao891620610.github.io/post/hdfs/" rel="contents">
            阅读全文 »
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://xiaoyao891620610.github.io/post/java-xiang-shang-zhuan-xing-he-xiang-xia-zhuan-xing/">
      JAVA-向上转型和向下转型
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">发布于</span>
      <span class="publish-time" data-t="2021-09-17 17:38:55">2021-09-17</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">分类于</span>
      
      
      <a href="https://xiaoyao891620610.github.io/tag/bXFkCkRzV/">
        <span>JAVA</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>3<span class="language" data-lan="minute">分钟</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>616<span class="pc-show language" data-lan="words">字数</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
            <!-- 没有手动摘要切开启了自动摘要,则根据配置筛除摘要内容 -->
            
            
              
              
              
            
              
              
              
            
              
              
              
            
            
              <p><pre><code>🤡 向上转型: 父类的引用指向子类的对象
</code></pre>
<p>一. 向上转型代码示例分析</p>

                
                  <!-- 自动摘要出来的内容有<code则补上结尾,防止格式错误 -->
                  </code></pre>
                
              <p>
            
          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://xiaoyao891620610.github.io/post/java-xiang-shang-zhuan-xing-he-xiang-xia-zhuan-xing/" rel="contents">
            阅读全文 »
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://xiaoyao891620610.github.io/post/wang-luo-gai-shu-he-linux-xu-ni-ji-yi/">
      计算机网络概述
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">发布于</span>
      <span class="publish-time" data-t="2020-11-20 15:42:18">2020-11-20</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">分类于</span>
      
      
      <a href="https://xiaoyao891620610.github.io/tag/7kmLrwibZ/">
        <span>计算机基础</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>4<span class="language" data-lan="minute">分钟</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>936<span class="pc-show language" data-lan="words">字数</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
            <p>记录，本章是整个计算机网络的概述，后面会具体有五层协议的体系结构。</p>
<p>互联网的组成<br>
互联网的组成是非常复杂的，但是根据它的工作方式我们可以分成两部分：核心部分和边缘部分<br>
　　１. 边缘部分：由所有连接在互联网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享。<br>
　　２. 核心部分：有大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）。<br>
　　两种工作模式的示意图。<br>
<img src="https://xiaoyao891620610.github.io/post-images/1605861195301.jpg" alt="" loading="lazy"><br>
　　<br>
<strong>互联网的边缘部分：</strong><br>
　　是连接在互联网上的所有主机，称为端系统(end system）。可以是笔记本电脑，平板，网络摄像头。拥有者可以是个人，企业，甚至是ISP。<br>
　　其它的概念型的东西不好写太多，自己记住就好了。既然是说计算机那么就要知道主机之间是怎么通信的。<br>
　　１.客户－服务器方式（Clent/Server -- C/S）原理图<br>
<img src="https://xiaoyao891620610.github.io/post-images/1605862370955.jpg" alt="" loading="lazy"><br>
　　２．对等连接方式（Peer-to-Peer -- P2P）原理图<br>
<img src="https://xiaoyao891620610.github.io/post-images/1605948572968.png" alt="" loading="lazy"><br>
　　其实P2P的本质还是C/S，只是对等连接中的每一台主机既是客户又是服务器。如图所示可以看出来客户在请求别的服务器的同时也提供着服务。那么这种主机的通信方式有点非常的明显，例如：<strong>快播</strong>。一个节点损坏不影响其它节点继续下载电影。我们可以通过很多的节点去下载1G的电影的小片段，最后重组在一起。所以是下载的人越多，下载的就越快，压根不存在带宽不够的情况。所以这种情况服务器得省很多钱，没必要花大价钱加带宽了。</p>

          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://xiaoyao891620610.github.io/post/wang-luo-gai-shu-he-linux-xu-ni-ji-yi/" rel="contents">
            阅读全文 »
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://xiaoyao891620610.github.io/post/ni-jin-li-liao-ma-lai-zi-zhong-guo-zhu-ming-wang-luo-an-quan-zhuan-jia-xiao-si-scz/">
      你尽力了吗? (来自中国著名网络安全专家小四scz)
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">发布于</span>
      <span class="publish-time" data-t="2020-11-13 09:54:42">2020-11-13</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">分类于</span>
      
      
      <a href="https://xiaoyao891620610.github.io/tag/frq12qeYT/">
        <span>博客初衷</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>5<span class="language" data-lan="minute">分钟</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>1298<span class="pc-show language" data-lan="words">字数</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
            <!-- more -->
<p>很多人问如何入门如何入门，我却不知道要问的是入什么门。 很少把某些好文章耐心从头看完，我这次就深有体会。比如袁哥的sniffer原理，一直以为自己对sniffer原理很清楚的，所以也就不曾仔细看过袁哥的这篇。后来有天晚上和袁哥讨论，如何通过端口读写直接获取mac地址，为什么antisniff可以获得真正的mac地址，而不受更改mac地址技术的影响，如何在linux下获得真正的mac地址。我一直对linux下的端口读写心存疑虑，总觉得在保护模式下的端口都做 了内存映象等等。结果袁哥问了我一句，你仔细看我写的文章没有，我楞，最近因为要印刷月刊，我整 理以前的很多文档，被迫认真过滤它们，才发现袁哥的文章让我又有新认识。再后来整理到tt的几篇缓 冲区溢出的，尤其是上面的关于Solaris可装载内核模块，那就更觉得惭愧了。 以前说书非借不能读，现在是文章留在硬盘上却不读。</p>

          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://xiaoyao891620610.github.io/post/ni-jin-li-liao-ma-lai-zi-zhong-guo-zhu-ming-wang-luo-an-quan-zhuan-jia-xiao-si-scz/" rel="contents">
            阅读全文 »
          </a>
        </div>
        
      </div>
      
    </div>
  </article>
  
            
            
<div class="page bg-color">
  <ul class="pagination-ul">
    
    
      
        <li class="pagination-li pagination-active">
            <a href="/page/../">
              1
            </a>
        </li>
      
    
    
  </ul>
</div>
          </section>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | © 2019-2020 Theme By <a
        href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a>
    </div>
    <div class="poweredby">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
  </footer>
  
  
  <div class="gemini back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
    back2TopText = document.querySelector('#back_to_top_text'),
    drawerBox = document.querySelector('#drawer_box'),
    rightSideBar = document.querySelector('.sidebar'),
    viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {

    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function (e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });

  window.addEventListener('scroll', function (e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });


  let hasCacu = false;
  window.onresize = function () {
    calcuHeight();
  }

  function calcuHeight() {
    // 动态调整站点概览高度
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();

  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function () {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function () {
            window.Velocity(rightMotions, transitionDir, {});
          }
        })
        window.Velocity(viewport, openProp, {
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function () {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp, {
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // 链接跳转
  let newWindow = 'false'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target", "_blank");
      }
    })
  }

  let faSearch = document.querySelector('#fa_search');
  faSearch.addEventListener('click', function () {
    document.querySelector('#search_mask').style = ''
  })

  // 代码高亮
  hljs.initHighlightingOnLoad();
  
  // 离开当前页title变化
  var leaveTitle = "";
  if (leaveTitle) {
    document.addEventListener('visibilitychange', function () {
      if (document.visibilityState == 'hidden') {
        normal_title = document.title;
        document.title = leaveTitle;
      } else {
        document.title = normal_title;
      }
    });
  }

</script>
    <div class="light-box" id="light_box"></div>
<script>
  let imgs = document.querySelectorAll('.post-body img');
  let lightBox = document.querySelector('#light_box');
  lightBox.addEventListener('mousedown', (e) => {
    e.preventDefault()
  })
  lightBox.addEventListener('mousewheel', (e) => {
    e.preventDefault()
  })
  let width = window.innerWidth * 0.8;
  lightBox.onclick = () => {
    let img = lightBox.querySelector('img');
    lightBox.style = '';
    img && img.remove();
  }
  imgs.forEach(item => {
    item.onclick = function (e) {
      let lightImg = document.createElement('img');
      lightImg.src = this.src;
      lightBox.style = `height: 100%; opacity: 1; background-color: rgba(0, 0, 0, 0.5);cursor: zoom-out;`;
      lightImg.style = `width: ${width}px;border-radius: 2px;`;
      lightImg.onclick = function () {
        lightBox.style = '';
        this.remove();
      }
      lightBox.append(lightImg);
    }
  })
</script>
  </div>
</body>

<div class="search-mask" id="search_mask" style="display: none;">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input id="search" type="text" class="language" data-lan="search" placeholder="搜索">
      </div>
      <i id="close" class="fa fa-times-circle"></i>
    </div>
    <div class="stat-box">
      <span id="stat_count">0</span><span class="language" data-lan="stat">条相关条目，使用了</span><span id="stat_times">0</span><span class="language" data-lan="stat-time">毫秒</span>
      <hr>
    </div>
    <div class="result" id="result">
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://xiaoyao891620610.github.io/post/hdfs/"" data-c="
          &lt;h3 id=&#34;1hdfs的概念&#34;&gt;1.HDFS的概念&lt;/h3&gt;
&lt;p&gt;​	HDFS (Hadoop Distributed File System),是一个分布式文件系统，运用了分而治之的设计思想，部署在低廉的硬件上，将大文件，大批量文件，分布式存放在大量服务器上，并对海量数据进行运算分析。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;大数据系统中的作用：为各类分布式的运算框架 (mapreduce,spark,tez,.......)提供数据存储服务
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;2hdfs的架构&#34;&gt;2.HDFS的架构&lt;/h3&gt;
&lt;p&gt;​	HDFS集群中包含了NameNode, SecondaryNameNode,DataNode这几个角色。&lt;/p&gt;
&lt;p&gt;​		NameNode(NN)： NameNode是HDFS的主节点，主要用于维护hdfs文件系统的目录树，维护的信息是保存在本地磁盘上：命名空间镜像文件(fsimage)和编辑日志文件(edits)。并且记录这每一个块(block)所在的数据节点(DataNode)的位置(block的id，block所在的datanode服务器)。&lt;/p&gt;
&lt;p&gt;​		SecondaryNameNode(SNN)：定期将编辑日志文件(edits)和命名空间镜像文件(fsimage)合并，防止编辑日志文件过大，同时能元数据和namenode元数据一致。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​		NN和SNN的工作机制&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;​		&lt;img src=&#34;https://xiaoyao891620610.github.io/post-images/1632383275847.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;​		SNN会定期询问NN是否需要checkpoint然后直接带回NN是否检查的结果，当checkpoint定时时间到了或者edits中的数据满了，SNN会请求执行checkpoint。&lt;/p&gt;
&lt;p&gt;​		SNN用来完成edits和fsimage的合并，会请求namenode停止使用edits，暂时将写入操作放入一个新的文件edits.new, SecondaryNameNode通过http get请求获取edits和fsimage，同时加载到内存当中逐一进行合并操作，生成新的fsimage.ckpt。然后将fsimage.ckpt通过http post发送给namenode。namenode将fsimage.ckpt文件替换原有的fsimage,再将edits.new替换成edits,同时会更新fstime。&lt;/p&gt;
&lt;p&gt;合并触发条件：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;fs.checkpoint.period: 默认是一个小时（3600s)
fs.checkpoint.size: edits达到一定大小时也会触发合并（默认64MB) 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;​		DataNode(DN)：是hdfs文件系统的工作节点，以数据块的形式存储hdfs文件，并且定期向NameNode发送心跳信息，数据块信息，缓存数据块信息。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​		SNN和DN的工作机制&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;​		&lt;img src=&#34;https://xiaoyao891620610.github.io/post-images/1632445946052.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;一个数据块在datanode上以文件形式存储在磁盘上，包括两个文件，一个是数据本身，一个是元数据包括数据块的长度，块数据的校验和，以及时间戳。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DataNode启动后向namenode注册，通过后，周期性（1小时）的向namenode上报所有的块信息。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;心跳是每3秒一次，心跳返回结果带有namenode给该datanode的命令如复制块数据到另一台机器，或删除某个数据块。如果超过10分钟没有收到某个datanode的心跳，则认为该节点不可用。&lt;/p&gt;
&lt;h2 id=&#34;3hdfs的核心概念&#34;&gt;3.HDFS的核心概念&lt;/h2&gt;
&lt;h3 id=&#34;31-blocks&#34;&gt;3.1 blocks&lt;/h3&gt;
&lt;p&gt;​	磁盘中有块的概念，意味着可以读写的最小数据量。文件系统的大小一般是磁盘的大小的整数倍来运作这个磁盘，一般为几千字节，而磁盘块一般是512Byte。 Hadoop提供的df、fsck这类运维工具都是在文件系统的Block级别上进行操作。&lt;/p&gt;
&lt;p&gt;​	HDFS的block块比一般单机文件系统大的多，Hadoop1.x 默认block分块是64M，Hadoop2.x默认是128M。经过测试在上传了2M的文件并非占用了整个block块，而是占用了实际大小，也就是在hdfs当中只用了2M的空间，而不是128M。&lt;/p&gt;
&lt;h5 id=&#34;block块大小的设计原则&#34;&gt;block块大小的设计原则&lt;/h5&gt;
&lt;h6 id=&#34;1减少磁盘的寻址时间控制寻址和传输文件所用的时间比例&#34;&gt;1.减少磁盘的寻址时间：控制寻址和传输文件所用的时间比例。&lt;/h6&gt;
&lt;p&gt;​		一般hdfs的寻址时间为10ms，经过反复测试，当寻址时间为传输时间的**1%**时为最佳传输状态。那么一般的机械硬盘文件读写的速度一般为100M/s，200M/s或者 普通固态为500MB/s,pcie固态的速度可以达到2000MB/s,因此块的大小可以分别设为128MB,256MB,512MB,2048MB 。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;     最佳传输时间为：10ms/0.01=1000ms=1s
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;​			计算出最佳block大小：100MB/s x 1s = 100MB&lt;br&gt;
​			所以设定block大小一般为128MB。&lt;br&gt;
​			经过测试我们现阶段可以说，&lt;strong&gt;block的大小主要取决于磁盘传输速率&lt;/strong&gt;。&lt;/p&gt;
&lt;h6 id=&#34;2减少namenode内存消耗因为namenode主节点主要维护的是hdfs所有文件的目录树文件信息-block块太小那么需要需要维护的数据块信息会更多而namenode节点的内存是极其有限的-block块太小则会增加寻址时间导致程序一直在寻找block的起始位置&#34;&gt;2.减少namenode内存消耗：因为namenode主节点主要维护的是hdfs所有文件的目录树，文件信息。block块太小，那么需要需要维护的数据块信息会更多，而namenode节点的内存是极其有限的。block块太小，则会增加寻址时间，导致程序一直在寻找block的起始位置。&lt;/h6&gt;
&lt;h6 id=&#34;3map崩溃当开启map任务时map-task的数据来源是block当然在mapreduce的概念中是读取split切片split和block默认是一对一-当block过大会导致在启动时数据加载时间越长恢复时间越长&#34;&gt;3.map崩溃：当开启map任务时，map task的数据来源是block，当然在mapreduce的概念中是读取split(切片)，split和block默认是一对一。当block过大会导致在启动时数据加载时间越长，恢复时间越长。&lt;/h6&gt;
&lt;h6 id=&#34;4监管时间问题主节点监管其他节点的情况每个节点会周期性的把完成的工作和状态的更新报告回来-若某个节点保存沉默超过预设的时间间隔主节点宣告该节点状态为死亡并把分配给这个节点的数据发到别的节点-预设的时间间隔是根据数据块-size角度估算的若size设置不合理容易误判节点死亡&#34;&gt;4.监管时间问题：主节点监管其他节点的情况，每个节点会周期性的把完成的工作和状态的更新报告回来。若某个节点保存沉默超过预设的时间间隔，主节点“宣告”该节点状态为死亡，并把分配给这个节点的数据发到别的节点。预设的时间间隔是根据数据块 size角度估算的，若size设置不合理，容易误判节点死亡。&lt;/h6&gt;
&lt;h6 id=&#34;5网络传输问题-在数据读写计算的时候需要进行网络传输如果block过大会导致网络传输时间增长程序卡顿超时无响应-任务执行的过程中拉取其他节点的block或者失败重试的成本会过高如果block过小则会频繁的进行文件传输对严重占用网络cpu资源&#34;&gt;5.网络传输问题: 在数据读写计算的时候,需要进行网络传输.如果block过大会导致网络传输时间增长,程序卡顿/超时/无响应. 任务执行的过程中拉取其他节点的block或者失败重试的成本会过高.如果block过小,则会频繁的进行文件传输,对严重占用网络/CPU资源.&lt;/h6&gt;
&lt;/li&gt;
&lt;/ul&gt;
">HDFS</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://xiaoyao891620610.github.io/post/java-xiang-shang-zhuan-xing-he-xiang-xia-zhuan-xing/"" data-c="
          &lt;pre&gt;&lt;code&gt;🤡 向上转型: 父类的引用指向子类的对象
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;一. 向上转型代码示例分析&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;class Apple extends Fruit{
    @Override
    public void show() {
    	System.out.println(&amp;quot;This is a Apple!&amp;quot;);
    }
    public void circular(){
    	System.out.println(&amp;quot;circular......!&amp;quot;);
    }
}
public class Banana extends Fruit{
    @Override
    public void show() {
    	System.out.println(&amp;quot;This is a Banana!&amp;quot;);
    }
	public void curved(){
    	System.out.println(&amp;quot;curved....!&amp;quot;);
    }
}

public class MainFruitTest {
    public static void toDo(Fruit fruit){
    	fruit.show();
    }
    public static void main(String[] args) {
        //向上转型-父类的引用指向子类的对象
        Fruit apple = new Apple();
        //向下转型-把子类对象的父类引用赋给子类引用，这里是强制转换
        // Apple appleDown = (Apple)apple;
        //appleDown.circular(); // circular......!
        apple.circular(); //编译报错可以运行。运行报错-&amp;gt;java: 找不到符号 符号:   方法 circular()  位置: 类 org.hadoop.Fruit.  注：apple虽然指向的是子类对象，但丢失了circular()方法
        toDo(apple); // This is a Apple!

        Fruit banana = new Banana();
        toDo(banana); // This is a Banana!
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;​		Fruit apple = new Apple()，实例化的Apple对象赋值给了父类Fruit对象，这便是典型的向上转型。当向上转型之后，父类引用变量便可以访问子类中继承了(或者说属于)父类的属性和方法，但是不能访问子类独有的属性和方法（java: 找不到符号 符号:   方法 circular()  位置: 类 org.hadoop.Fruit）。&lt;/p&gt;
&lt;p&gt;二. 向上转型作用&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;public static void toDo(Fruit fruit){
	fruit.show();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;​		以父类为参数，但是在调用的时候传的是子类的对象，方法toDo()以子类为对象，无论是Apple，还是Banana，都会向上转型成Fruit对象，这样在调用show()方法时，还是子类在调用，就不需要再重载多个toDo()方法了，这样会节约代码量，也正提现了JAVA的抽象编程思想。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;🤡向下转型：把子类对象的父类引用赋给子类引用
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;一.   向下转型的注意点&lt;/p&gt;
&lt;p&gt;​		例 1 ：Fruit apple = new Apple();&lt;/p&gt;
&lt;p&gt;​					Apple appleDown = (Apple)apple;&lt;/p&gt;
&lt;p&gt;​					正确的向下转型，因为appleDown 指向的是子类对象。&lt;/p&gt;
&lt;p&gt;​		例 2 ：Fruit fruit = new Fruit();&lt;/p&gt;
&lt;p&gt;​					Apple apple = (Apple)fruit;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;运行报错：org.hadoop.Fruit cannot be cast to org.hadoop.Apple
at org.hadoop.MainFruitTest.main
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;二.  向下转型的作用&lt;/p&gt;
&lt;p&gt;​	向上转型时，作为子类对象的父类引用无法调用除与父类共有的方法和属性。那么此时就可以通过向下转型，把父类作为子类的引用强制转换赋给子类的对象，这样就可以调用子类的全部方法。当然要结合实际出发去转换。&lt;/p&gt;
">JAVA-向上转型和向下转型</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://xiaoyao891620610.github.io/post/wang-luo-gai-shu-he-linux-xu-ni-ji-yi/"" data-c="
          &lt;p&gt;记录，本章是整个计算机网络的概述，后面会具体有五层协议的体系结构。&lt;/p&gt;
&lt;p&gt;互联网的组成&lt;br&gt;
互联网的组成是非常复杂的，但是根据它的工作方式我们可以分成两部分：核心部分和边缘部分&lt;br&gt;
　　１. 边缘部分：由所有连接在互联网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享。&lt;br&gt;
　　２. 核心部分：有大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）。&lt;br&gt;
　　两种工作模式的示意图。&lt;br&gt;
&lt;img src=&#34;https://xiaoyao891620610.github.io/post-images/1605861195301.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
　　&lt;br&gt;
&lt;strong&gt;互联网的边缘部分：&lt;/strong&gt;&lt;br&gt;
　　是连接在互联网上的所有主机，称为端系统(end system）。可以是笔记本电脑，平板，网络摄像头。拥有者可以是个人，企业，甚至是ISP。&lt;br&gt;
　　其它的概念型的东西不好写太多，自己记住就好了。既然是说计算机那么就要知道主机之间是怎么通信的。&lt;br&gt;
　　１.客户－服务器方式（Clent/Server -- C/S）原理图&lt;br&gt;
&lt;img src=&#34;https://xiaoyao891620610.github.io/post-images/1605862370955.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
　　２．对等连接方式（Peer-to-Peer -- P2P）原理图&lt;br&gt;
&lt;img src=&#34;https://xiaoyao891620610.github.io/post-images/1605948572968.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
　　其实P2P的本质还是C/S，只是对等连接中的每一台主机既是客户又是服务器。如图所示可以看出来客户在请求别的服务器的同时也提供着服务。那么这种主机的通信方式有点非常的明显，例如：&lt;strong&gt;快播&lt;/strong&gt;。一个节点损坏不影响其它节点继续下载电影。我们可以通过很多的节点去下载1G的电影的小片段，最后重组在一起。所以是下载的人越多，下载的就越快，压根不存在带宽不够的情况。所以这种情况服务器得省很多钱，没必要花大价钱加带宽了。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;!-- more --&gt;
&lt;p&gt;&lt;strong&gt;互联网的核心部分：&lt;/strong&gt;&lt;br&gt;
　　电路交换（Circuit Switching）:例：打电话  建立连接（申请占用通信资源）-&amp;gt;通话（一直占用通信资源）-&amp;gt;释放连接（释放通信资源），电路交换适用于数据量很大的实时性传输：核心路由器之间可以使用电路交换。&lt;br&gt;
&lt;img src=&#34;https://xiaoyao891620610.github.io/post-images/1605948188035.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
　　　　　　　　　　　　　　　　　　　电路交换示意图&lt;/p&gt;
&lt;p&gt;​　　报文交换（Message Switcing）：报文一般比分组长的多，报文交换的时延较长&lt;br&gt;
​　　分组交换（Packet Switcing）：采用存储转发技术，是把一个报文拆分为几个分组后再进行传送。优点：高效，灵活，迅速，可靠  问题：时延，开销&lt;br&gt;
&lt;img src=&#34;https://xiaoyao891620610.github.io/post-images/1605948123122.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
　　　　　　　　　　　　　　　　　以分组为基本单位在网络中传输&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://xiaoyao891620610.github.io/post-images/1605948852329.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
　　　　　　　　　　　　　　　　　三种交换方式的比较&lt;/p&gt;
&lt;p&gt;计算机网络的体系结构&lt;br&gt;
　　具有五层协议的体系结构：&lt;br&gt;
　　应用层（Application）：通过应用程序间的交互来完成特定的网络任务。应用层交互的数据单元成为报文（message）。应用层协议：HTTP,SMTP,DNS。&lt;br&gt;
　　运输层（Transport）：两台主机中进程之间的通信提供通用的数据传输服务。运输层主要使用两种协议，TCP协议和UDP协议。&lt;br&gt;
　　×传输控制协议TCP——提供面向连接的，可靠的数据传输服务，单位是报文段。&lt;br&gt;
　　×用户数据包协议ＵDP——提供无连接的，尽最大努力的数据传输服务，不保证数据传输的可靠性，单位是用户数据报。&lt;br&gt;
　　网络层（Network）:为分组交换网上的不同主机提供通信服务。比如IP地址选址，选择最佳路径。&lt;br&gt;
　　数据链路层（Data Link）： 数据如何封装  添加物理层地址（MAC地址）&lt;br&gt;
　　​物理层（Physical）：电压，接口标准（比如网线）&lt;br&gt;
&lt;img src=&#34;https://xiaoyao891620610.github.io/post-images/1606047565974.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
">计算机网络概述</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://xiaoyao891620610.github.io/post/ni-jin-li-liao-ma-lai-zi-zhong-guo-zhu-ming-wang-luo-an-quan-zhuan-jia-xiao-si-scz/"" data-c="
          &lt;!-- more --&gt;
&lt;p&gt;很多人问如何入门如何入门，我却不知道要问的是入什么门。 很少把某些好文章耐心从头看完，我这次就深有体会。比如袁哥的sniffer原理，一直以为自己对sniffer原理很清楚的，所以也就不曾仔细看过袁哥的这篇。后来有天晚上和袁哥讨论，如何通过端口读写直接获取mac地址，为什么antisniff可以获得真正的mac地址，而不受更改mac地址技术的影响，如何在linux下获得真正的mac地址。我一直对linux下的端口读写心存疑虑，总觉得在保护模式下的端口都做 了内存映象等等。结果袁哥问了我一句，你仔细看我写的文章没有，我楞，最近因为要印刷月刊，我整 理以前的很多文档，被迫认真过滤它们，才发现袁哥的文章让我又有新认识。再后来整理到tt的几篇缓 冲区溢出的，尤其是上面的关于Solaris可装载内核模块，那就更觉得惭愧了。 以前说书非借不能读，现在是文章留在硬盘上却不读。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;其实本版已经很多经典文章了，也推荐了不少经典书籍了，有几个好好看过呢。W.Richard.Stevens的UNP我算是认真看过加了不少旁注，APUE就没有那么认真了，而卷II的一半认真看过，写过读书笔记，卷III就没有看一页。道格拉斯的卷I、卷III是认真看过几遍，卷II就只断续看过。而很多技术文章，如果搞到手了就懒得再看，却不知道这浪费了多少资源，忽略了多少资源。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;BBS是真正能学到东西的地方吗？rain说不是的，我说也不是的。不过这里能开阔人的视野，能得到对大方向的指引，足够了。我一直都希望大家从这里学到的不是技术本身，而是学习方法和一种不再狂热的 淡然。很多技术，明天就会过时，如果你掌握的是学习方法，那你还有下一个机会，如果你掌握的仅仅是这个技术本身，你就没有机会了。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;其实我对系统安全是真不懂，因为我一直都喜欢看程序写程序却不喜欢也没有能力攻击谁谁的主机/站点 。我所能在这里做的是，为大家提供一个方向，一种让你的狂热归于淡然的说教。如果你连&amp;lt;&amp;lt;Windows NT设备驱动程序编写&amp;gt;&amp;gt;、&amp;lt;&amp;lt;win9x系统编程&amp;gt;&amp;gt;都没有看过，却要写个什么隐藏自己的木马，搞笑。如果你 看都不看汇编语言，偏要问exploit code的原理，那我无法回答也不想回答你。总有人责问，要讨个说法纭纭，说什么提问却没有回答。不回答已经是正确的处理方式了，至少没有回你一句，看书去，对不对，至少没有扰乱版面让你生闷气。 Unix的man手册你要都看完了，想不会Unix都不行了。微软的MSDN、Platfor SDK DOC你要看完了，你想把Win编程想象得稍微困难点都找不到理由。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;还是那句话，一个程序员做W.Richard.Stevens那个份上 ，做到逝世后还能叫全世界的顶级hacker们专门著文怀念，但生前却不曾著文攻击，想想看，那是一种什么样的境界，那是一份什么样的淡然。我们可以大肆讨论技术问题，可以就技术问题进行激烈的卓有成效的讨论，却无意进行基础知识、资源信息的版面重复。我刚在前面贴了一堆isbase的文章，开头就是主页标识，却在后面立刻问什么主页在哪里？前面刚刚讨论过如何修改mac地址，后面马上又来一个，前后相差不过3篇文章。选择沉默已经是很多朋友忍耐力的优异表现了。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;这次sztcww问的关于socket号为什么选择4而不是3，就很有专业精神，虽然我也不清楚，但这样的问题 我就乐意代他请教tt本人，至少他认真看了文章研究过代码，而不是盲目地发问。如此讨论问题的同时 ，大家都可以提高。谁都乐意参与讨论这种问题。很多东西都是可以举一反三的。vertex的lids，被 packetstorm天天追踪更新，你要是看了THC的那三篇，觉得理解一个就理解了一堆，都是内核模块上的 手脚。你不看你怎么知道。我不想在这里陷入具体技术问题的讨论中去，你要是觉得该做点什么了，就自己去看自己去找。 没有什么人摆什么架子，也没有什么人生来就是干这个的。你自己问自己，尽力了吗？&lt;/p&gt;
">你尽力了吗? (来自中国著名网络安全专家小四scz)</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://xiaoyao891620610.github.io/post/about/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;欢迎来到我的小站呀，很高兴遇见你！🤝&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;关于本站&#34;&gt;🏠 关于本站&lt;/h2&gt;
&lt;h2 id=&#34;博主是谁&#34;&gt;👨‍💻 博主是谁&lt;/h2&gt;
&lt;h2 id=&#34;兴趣爱好&#34;&gt;⛹ 兴趣爱好&lt;/h2&gt;
&lt;h2 id=&#34;联系我呀&#34;&gt;📬 联系我呀&lt;/h2&gt;
">关于</a>
      </div>
      
    </div>
    <div class="page">
      <div id="page_ul"></div>
    </div>
  </div>
</div>
<script>
  !function () {
    let searchMask = document.querySelector('#search_mask');
    let result = document.querySelector('#result');
    let items = document.querySelectorAll('.item');
    let searchBox = document.querySelector('#search');
    let statCount = document.querySelector('#stat_count');
    let statTimes = document.querySelector('#stat_times');
    let pageUl = document.querySelector('#page_ul');
    let close = document.querySelector('#close');
    
    close.addEventListener('click', function() {
      searchMask.style = 'display: none;'
    })

    let finds = [];
    let contents = [];
    let pageSize = 10;
    items.forEach(item => {
      let a = item.querySelector('a');
      contents.push({
        title: a.innerText,
        details: a.dataset.c,
        link: a.href
      })
      item.remove();
    })

    function insertStr(soure, start, count) {
      let newStr = soure.substr(start, count);
      return soure.slice(0, start) + '<em>' + newStr + '</em>' + soure.slice(start + count);
    }

    pageUl.addEventListener('click', function(event) {
      let target = event.target;
      if (target.__proto__ === HTMLSpanElement.prototype) {
        appendResults(parseInt(target.dataset.i));
      }
    })

    function appendResults(index) {
      let htmlResult = '';
      let start = index || 0;
      let end = Math.min(start + pageSize, finds.length);
      for (let i = start; i < end; i++) {
        const current = finds[i];
        let html = current.title;
        let sum = 0;
        let positions = current.positions;
        positions.forEach(position => {
          html = insertStr(html, position.start + sum, position.count);
          sum += 9;
        })
        htmlResult += `<div class="item"><a class="result-title" href="${current.link}">${html}</a></div>`;
      }
      result.innerHTML = htmlResult;
      pageUl.innerHTML = '';
      let count = finds.length / pageSize;
      let lis = '';
      if (start !== 0) {
        lis += `<span class="fa fa-angle-left" data-i='${start - 1}'></span>`;
      }
      for (let i = 0; i < count; i++) {
        lis += `<span class='${i === start?'current':''}' data-i='${i}'>${i+1}</span>`;     
      }
      if (start+1 < count) {
        lis += `<span class="fa fa-angle-right" data-i='${start+1}'></span>`;  
      }
      pageUl.innerHTML = lis;
    }

    function search(delay) {
      let timer = null
      return function () {
        clearTimeout(timer)
        timer = setTimeout(() => {
          let start = Date.now();
          let segments = searchBox.value.split(' ').filter(c => c != '');
          if (segments.length <= 0) {
            return;
          }
          finds = [];
          let htmlResult = '';
          contents.forEach(content => {
            let title = content.title;
            let positions = [];
            let find = false;
            segments.forEach((segment) => {
              if (content.title.includes(segment)) {
                find = true;
                positions.push({
                  start: content.title.indexOf(segment),
                  count: segment.length
                })
              } else if (content.details.includes(segment)) {
                find = true;
              }
            });
            if (find) {
              finds.push({
                title: content.title,
                link: content.link,
                positions
              });
            }
          })
          appendResults(0);
          statCount.textContent = finds.length;
          statTimes.textContent = Date.now() - start;
        }, delay)
      }
    }
    searchBox.addEventListener('input', search(200));
  }()
</script>

<input hidden id="copy" />
<script>
  !function () {
    let times = document.querySelectorAll('.publish-time');
    for (let i = 0; i < times.length; i++) {
      let date = times[i].dataset.t;
      let time = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);
      if (time < 60) {
        str = time + '秒之前';
      } else if (time < 3600) {
        str = Math.floor(time / 60) + '分钟之前';
      } else if (time >= 3600 && time < 86400) {
        str = Math.floor(time / 3600) + '小时之前';
      } else if (time >= 86400 && time < 259200) {
        str = Math.floor(time / 86400) + '天之前';
      } else {
        str = times[i].textContent;
      }
      times[i].textContent = str;
    }
  }();
</script>

<script>
  let language = '';
  if (language !== '') {
    let map = new Map();
    if (language === 'en') {
      map.set('search', 'Search');
      map.set('category', 'Categories');
      map.set('article', 'Articles');
      map.set('tag', 'Tags');
      map.set('top', 'Top');
      map.set('publish', 'published');
      map.set('minute', ' minutes');
      map.set('read-more', 'Read More');
      map.set('view', 'View');
      map.set('words', ' words');
      map.set('category-in', 'category in');
      map.set('preview', 'Meta');
      map.set('index', 'Toc');
      map.set('no-archives', "You haven't created yet");
      map.set('archives', " articles in total");
      map.set('cloud-tags', " tags in total");
      map.set('copyright', "Copyright: ");
      map.set('author', "Author: ");
      map.set('link', "Link: ");
      map.set('leave-message', "Leave a message");
      map.set('format', "Links Format");
      map.set('site-name', "Name: ");
      map.set('site-link', "Link: ");
      map.set('site-desc', "Desc: ");
      map.set('stat', " related results, taking ");
      map.set('stat-time', " ms");
      map.set('site-img', "Image: ");
    }

    if (map.size > 0) {
      let lanElems = document.querySelectorAll('.language');
      lanElems.forEach(elem => {
        let lan = elem.dataset.lan, text = map.get(lan);
        if (elem.__proto__ === HTMLInputElement.prototype) {
          elem.placeholder = text
        } else {
          if (elem.dataset.count) {
            text = elem.dataset.count + text;
          }
          elem.textContent = text;
        }
      })
    }
  }
  //拿来主义(真香)^_^，Clipboard 实现摘自掘金 https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // 判断是不是ios端
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //创建文本元素
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //选择内容
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //复制到剪贴板
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("复制错误！请手动复制！")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === '复制成功') {
        return;
      }
      e.srcElement.textContent = '复制成功';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === '复制成功') {
            elem.textContent = '复制代码'
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = '复制代码';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })

</script>
<script src="/media/js/motion.js"></script>

<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 200
  });
</script>





  <div class="snow-container"></div>
  <script src="/media/js/bg/snow.js"></script>


</html>